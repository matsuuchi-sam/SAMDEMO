; ==============================================================================
; SAMDEMO - ESP32 PlatformIO 設定
; ==============================================================================
; 使い方:
;   pio run                                    ビルドのみ
;   pio run --target upload --upload-port COM4  書き込み
;   pio device monitor --port COM4 --baud 115200 シリアルモニタ
; ==============================================================================

[env:esp32dev]
platform  = espressif32
board     = esp32dev
framework = arduino

; --- シリアルモニタ設定 ---
monitor_speed = 115200

; --- ビルドフラグ ---
build_flags =
    -DCORE_DEBUG_LEVEL=3          ; デバッグログレベル（0=なし, 3=INFO, 5=VERBOSE）
    -DARDUINO_SERIAL_EVENT_TASK_RUNNING_CORE=1
    ; GR-SAKURA との通信ポート設定
    -DRXSAKURA_UART_RX_PIN=16     ; GPIO16: GR-SAKURA からの受信
    -DRXSAKURA_UART_TX_PIN=17     ; GPIO17: GR-SAKURA への送信
    -DRXSAKURA_UART_BAUD=115200   ; 通信速度

; --- ライブラリ依存（Phase 4 以降で追加予定）---
; lib_deps =
;     WiFi                        ; ESP32 Arduino フレームワーク内蔵
;     ArduinoJson @ ^7.0.0       ; JSON パース/生成
;     arduinoWebSockets @ ^2.4.0  ; WebSocket クライアント

; --- アップロード設定 ---
; upload_port = COM4              ; コメントを外して COM 番号を指定
; upload_speed = 921600           ; アップロード速度（デフォルト）

; --- パーティションテーブル ---
; board_build.partitions = default.csv  ; デフォルト: app=1.25MB x2

[env:esp32dev_ota]
; OTA（無線アップデート）用設定（Phase 5 以降）
extends = env:esp32dev
upload_protocol = espota
; upload_port = 192.168.x.x      ; ESP32 の IP アドレスを指定
